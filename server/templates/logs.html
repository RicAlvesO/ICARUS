{% extends "utils/base.html" %}

{% block title %}System Logs{% endblock %}

{% block content %}
<h2>Live System Logs</h2>
<pre id="log" style="background: #000; color: #0f0; padding: 1em; height: 500px; overflow-y: scroll; border-radius: 8px;"></pre>

<script>
  const logEl = document.getElementById("log");
  const evtSource = new EventSource("/system/logs/stream");

  evtSource.onmessage = function(event) {
    logEl.textContent += event.data + "\n";
    logEl.scrollTop = logEl.scrollHeight;
  };

  evtSource.onerror = function(err) {
    logEl.textContent += "\n[Error receiving logs]";
    evtSource.close();
  };
</script>
{% endblock %}
